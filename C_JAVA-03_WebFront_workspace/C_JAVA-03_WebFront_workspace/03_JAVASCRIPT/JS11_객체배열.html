<!DOCTYPE html>
<html>
    <head>
        <title>객체배열</title>
        <meta charset="UTF-8">
        <style>
            div {
                height: 300px;
                background-color: lightgray;
                border: 1px solid black;
            }
        </style>
    </head>
    <body>
        <h1>객체 배열</h1>
        <hr>
        <h2>기본 객체 배열</h2>
        <button onclick="test1();">실행 확인</button>
        <div id="area1"></div>
        <script>
            function test1(){
                // 별도의 객체 생성
                var st0 = {name : "홍길동", kor : 40, eng : 50, math : 70};
                var st1 = {name : "김길동", kor : 80, eng : 40, math : 30};
                var st2 = {name : "이길동", kor : 50, eng : 90, math : 60};

                // 배열 선언
                var students = [];

                // 배열에 객체 추가
                students.push(st0);
                students.push(st1);
                students.push(st2);

                // 배열 내용 출력
                var area1 = document.getElementById("area1");
                //area1.innerHTML = students[0].name;

                for(var i in students){
                    area1.innerHTML += "이름 : "+students[i].name+"<br>국어 : "
                        +students[i].kor+"<br>영어 : "+students[i].eng+"<br>수학 : "
                        +students[i].math+"<br>";
                }                
            }
        </script>
        <hr>
        <h2>함수를 활용하여 객체 생성</h2>
        <fieldset>
            <legend>회원 정보 입력</legend>
            <label for="name">이름 : </label>
            <input type="text" name="name" id="name"><br>
            <label for="age">나이 : </label>
            <input type="text" name="age" id="age"><br>
            <label for="tel">전화번호 : </label>
            <input type="text" name="tel" id="tel"><br><br>
            <button onclick="insert();">데이터 입력</button>
            <button onclick="print();">데이터 출력</button>
        </fieldset>
        <div id="area2"></div>
        <script>
            // 회원정보 저장할 배열
            memberArr = new Array();
            // 데이터 입력 함수
            function insert(){
                // 각 입력칸(input) 요소 가져오기
                var nameElement = document.getElementById("name");
                var ageElement = document.getElementById("age");
                var telElement = document.getElementById("tel");

                // 객체 생성
                var mem = {
                    name: nameElement.value,
                    age: ageElement.value,
                    tel: telElement.value
                }

                // 생성된 객체를 배열에 저장
                memberArr.push(mem);

                // 데이터 입력 후 입력칸 비우기                
                nameElement.value="";
                ageElement.value="";
                telElement.value="";

                // 테스트 : 배열 데이터 콘솔로 출력
                console.log(memberArr);
            }
            // 데이터 출력 함수
            function print(){
                var area2 = document.getElementById("area2");
                for(var i=0; i<memberArr.length; i++){
                    area2.innerHTML += "이름 : "+memberArr[i].name
                        +", 나이 : "+memberArr[i].age
                        +", 전화번호 : "+memberArr[i].tel+"<br>";
                }
            }
        </script>
    </body>
</html>